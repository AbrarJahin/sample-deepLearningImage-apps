<!-- development version of VueJS (use https://cdn.jsdelivr.net/npm/vue@2.6.10 in production) -->
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
<!-- axios for REST calls -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<!-- basic Bootstrap4 CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<!-- development version of VueJS (use https://cdn.jsdelivr.net/npm/vue@2.6.10 in production) -->

<div id="app">

  <h3>Simple CRM</h3>

  <div class="text-danger">{{error}}</div>
  <div v-if="user">
    
    <div class="col-md-6" v-on:click="triggerAvatar">
      <img :src="user.avatar" alt="avatar" class="img-responsive">
      <div class="carousel-caption mb-0 pb-0"><p class="text-secondary bg-white">&#9998; Click to edit</p></div>
      <form action="account" class="d-none" method="POST" enctype="multipart/form-data" v-on:submit.prevent>
        <input type="file" id="avatar" ref="avatar" accept="image/gif, image/jpg, image/jpeg, image/png" v-on:change="updateAvatar"/>
      </form>
    </div>
    
    <div class="col-md-6">
      <textarea name="bio" v-model="user.bio" v-on:change="updateBio"></textarea>
    </div>

    <p><button @click="logOut">Log Out</button></p>
    
  </div>

  <div v-if="!user">
    
      <form v-on:submit.prevent>
        <input type="text" placeholder="email" autocomplete="username" v-model="login.email"/>
        <input type="password" placeholder="password" autocomplete="current-password" v-model="login.password"/>
        <button @click="logIn">Log In</button> or <button @click="register">Register</button>
      </form>
    
  </div>

</div>

<script src="/app.js"></script>