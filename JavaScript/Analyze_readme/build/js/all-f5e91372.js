function callAlgorithm(){var e=document.getElementById("status-label");e.innerHTML="",startTask();var t=document.getElementById("repository").value;e.innerHTML="",Algorithmia.query("nlp/AnalyzeGithubReadme",Algorithmia.api_key,t,function(t,n){finishTask();if(t){e.innerHTML='<span class="text-danger">Failed:('+t+")</span>";return}parseScores(n),parseRecommendations(n)})}function parseRecommendations(e){updateLengthRecommendation(e.recommendation.length),updateCodeSampleRecommendation(e.recommendation.pre),updateImagesRecommendation(e.recommendation.img),insertHeadersRecommendations(e.recommendation.header),insertParagraphRecommendations(e.recommendation.paragraph)}function insertHeadersRecommendations(e){var t=document.getElementById("headers-recommendation-list");t.innerHTML="";var n=e;for(i=0;i<n.length;++i){var r=n[i].operation,s=n[i].value,o=[];o.push(s);if(r=="insert"){var u=document.createElement("div");u.className="media";var a=document.createElement("div");a.className="media-left operation",u.appendChild(a);var f=document.createElement("span");f.className="glyphicon glyphicon-pencil"}else{var u=document.createElement("div");u.className="media";var a=document.createElement("div");a.className="media-left operation",u.appendChild(a);var f=document.createElement("span");f.className="glyphicon glyphicon-remove"}a.appendChild(f);var l=document.createElement("div");l.className="media-body";var c=document.createElement("h4");r=="insert"?c.innerHTML="Try adding headers to your sections with the stems: <span style='color:green;'>"+o+"</span>":c.innerHTML="Remove the header which starts with the stem: <span style='color:red;'>"+s+"</span>",l.appendChild(c),u.appendChild(l),t.appendChild(u)}}function insertParagraphRecommendations(e){var t=document.getElementById("paragraphs-recommendation-list");t.innerHTML="";var n=e;for(i=0;i<n.length;++i){var r=n[i].operation,s=n[i].value,o=document.createElement("div");o.className="media";var u=document.createElement("div");u.className="media-left operation",o.appendChild(u);var a=document.createElement("span");r=="insert"?a.className="glyphicon glyphicon-pencil":a.className="glyphicon glyphicon-remove",u.appendChild(a);var f=document.createElement("div");f.className="media-body";var l=document.createElement("h4");r=="insert"?l.innerHTML="Add words with the stem: <span style='color:green;'>"+s+"</span>":l.innerHTML="Remove words which start with the stem: <span style='color:red;'>"+s+"</span>",f.appendChild(l),o.appendChild(f),t.appendChild(o)}}function updateLengthRecommendation(e){var t=document.getElementById("length-recommendation-operation"),n=document.getElementById("length-recommendation-value");t.innerHTML="",n.innerHTML="";var r=document.createElement("span");if(e.length==0)r.className="glyphicon glyphicon-ok",n.innerHTML="Juuuust right! Then length of your README is neither too long nor too short.";else if(e[0].operation=="increase"){r.className="glyphicon glyphicon-pencil";var i="Cat got your tongue? Consider increasing the length of your README by "+e[0].value+" characters.";n.innerHTML=i}else if(e[0].operation=="decrease"){r.className="glyphicon glyphicon-remove";var i="Woof, it's a long one! Consider decreasing the length of your README by "+e[0].value+" characters.";n.innerHTML=i}else r.className="glyphicon glyphicon-ok",n.innerHTML="Juuuust right! Then length of your README is neither too long nor too short.";t.appendChild(r)}function updateCodeSampleRecommendation(e){var t=document.getElementById("code-recommendation-operation"),n=document.getElementById("code-recommendation-value");t.innerHTML="",n.innerHTML="";var r=document.createElement("span");if(e.length==0)r.className="glyphicon glyphicon-ok",n.innerHTML="Great work, your code samples are spot on!";else if(e[0].operation=="increase"){r.className="glyphicon glyphicon-pencil";var i="Have you thought about adding in code samples? We suggest "+e[0].value+"?";n.innerHTML=i}else if(e[0].operation=="decrease"){r.className="glyphicon glyphicon-remove";var i="You could probably cut down on code samples. How about removing "+e[0].value+"?";n.innerHTML=i}else r.className="glyphicon glyphicon-ok",n.innerHTML="Great work, your code samples are spot on!";t.appendChild(r)}function updateImagesRecommendation(e){var t=document.getElementById("images-recommendation-operation"),n=document.getElementById("images-recommendation-value");t.innerHTML="",n.innerHTML="";var r=document.createElement("span");if(e.length==0)r.className="glyphicon glyphicon-ok",n.innerHTML="No recommendations found for your README's image count. Good job!";else if(e[0].operation=="decrease"){r.className="glyphicon glyphicon-remove";var i="Consider decreasing the number of images by "+e[0].value;n.innerHTML=i}else if(e[0].operation=="increase"){r.className="glyphicon glyphicon-pencil";var i="Consider increasing the number of images by "+e[0].value;n.innerHTML=i}else r.className="glyphicon glyphicon-ok",n.innerHTML="No recommendations found for your README's image count. Good job!";t.appendChild(r)}function parseScores(e){var t=document.getElementsByClassName("length-score"),n=document.getElementsByClassName("headers-score"),r=document.getElementsByClassName("code-score"),i=document.getElementsByClassName("paragraph-score"),s=document.getElementsByClassName("image-score"),o=e.score,u=new Array(o.pre,o.header,o.length,o.paragraph,o.img),a=new Array(r,n,t,i,s);for(var f in a)insertGrade(a[f],u[f])}function insertGrade(e,t){var n=e,t=t;for(i=0;i<n.length;++i){var r=n[i];t>=9?(r.style.color="green",r.innerHTML="A+"):t==8?(r.style.color="green",r.innerHTML="A"):t==7||t==6?(r.style.color="green",r.innerHTML="B"):t==5?(r.style.color="orange",r.innerHTML="C"):t==4?(r.style.color="orange",r.innerHTML="C-"):t==3?r.innerHTML="D":t==2||t==1?r.innerHTML="F":(r.style.color="orange",r.innerHTML="C")}}function startTask(){numTasks++,document.getElementById("overlay").classList.remove("hidden")}function finishTask(){numTasks--,numTasks<=0&&document.getElementById("overlay").classList.add("hidden")}(function(){var e,t,n,r,i;window.Algorithmia=window.Algorithmia||{},Algorithmia.query&&console.error("Warning: algorithmia.js loaded twice"),Algorithmia.client&&console.error("Warning: algorithmia.js loaded twice"),Algorithmia.apiAddress&&console.log("Using alternate API server: "+Algorithmia.apiAddress),i=function(){return Algorithmia.apiAddress!==void 0?Algorithmia.apiAddress:"https://api.algorithmia.com/v1/web/algo"},r=/^(?:algo:\/\/|\/|)(\w+\/.+)$/,Algorithmia.query=function(e,t,n,r){return Algorithmia.client(t).algo(e).pipe(n,function(e){return e.error?r(e.error.message||e.error):r(void 0,e.result)})},Algorithmia.client=function(e,n){return e=e||Algorithmia.apiKey,n=n||i(),new t(e,n)},t=function(t,n){this.api_key=t,this.api_address=n,this.algo=function(t){return t&&typeof t=="string"?new e(this,t):(console.error("Invalid algorithm url: "+t),null)}},Algorithmia.algo=function(e){return Algorithmia.client().algo(e)},e=function(e,t){if(typeof t!="string"||!t.match(r))throw"Invalid Algorithm URI (expected /owner/algo)";this.client=e,this.algo_uri=t.match(r)[1],this.pipe=function(t,r){var i;return Algorithmia.startTask(),i=new n(function(n){return function(r){var i,s;return s=new XMLHttpRequest,s.onreadystatechange=function(){var e,t;if(s.readyState===4){Algorithmia.finishTask();if(s.status===0)s.responseText?r({error:"API connection error: "+s.responseText}):r({error:"API connection error"});else if(s.status===502)r({error:"API error, bad gateway"});else if(s.status===503)r({error:"API error, service unavailable"});else if(s.status===504)r({error:"API error, server timeout"});else try{t=JSON.parse(s.responseText),r(t)}catch(n){e=n,r({error:"API error (status "+s.status+"): "+e})}}},i=e.api_address+"/"+n.algo_uri,s.open("POST",i,!0),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Accept","application/json, text/javascript"),e.api_key&&s.setRequestHeader("Authorization","Simple "+e.api_key),s.send(JSON.stringify(t))}}(this)),r&&i.then(r),i}},n=function(e){var t;this.isComplete=!1,this.listeners=[],this.result=void 0,t=function(e){return function(t){var n,r,i,s;e.result=t,e.isComplete=!0,s=e.listeners;for(r=0,i=s.length;r<i;r++){n=s[r];try{n(t)}catch(o){}}}}(this),this.then=function(e){return function(t){if(!e.isComplete)return e.listeners.push(t);try{return t(e.result)}catch(n){}}}(this),e(t)},Algorithmia.tasksInProgress=0,Algorithmia.startTask=function(){var e,t,n,r;if(Algorithmia.tasksInProgress===0){r=document.getElementsByClassName("algo-spinner");for(t=0,n=r.length;t<n;t++)e=r[t],e.style.visibility="visible"}Algorithmia.tasksInProgress++},Algorithmia.finishTask=function(){var e,t,n,r;Algorithmia.tasksInProgress--;if(Algorithmia.tasksInProgress===0){r=document.getElementsByClassName("algo-spinner");for(t=0,n=r.length;t<n;t++)e=r[t],e.style.visibility="hidden"}else Algorithmia.tasksInProgress<0&&console.error("Algorithmia task error (unknown task finished)")},Algorithmia.onload&&typeof Algorithmia.onload=="function"&&Algorithmia.onload()}).call(this),window.Algorithmia=window.Algorithmia||{},Algorithmia.api_key="simGpDplaouYGZhf2WGltne49SV1";var numTasks=0;(function(){var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};while(r--)e=n[r],i[e]||(i[e]=t)})();var $red=document.querySelector(".dot1"),$green=document.querySelector(".dot2"),$blue=document.querySelector(".dot3"),$purple=document.querySelector(".dot4"),start=0,tl=new TimelineMax({repeat:-1,repeatDelay:.05});tl.fromTo($green,.4,{x:0},{x:30,ease:Linear.easeNone},start),tl.fromTo($blue,.4,{x:0},{x:-30,ease:Linear.easeNone},start),tl.to($green,.4,{x:60,ease:Linear.easeNone},start+.45),tl.fromTo($purple,.4,{x:0},{x:-30,ease:Linear.easeNone},start+.45),tl.to($blue,.4,{x:-60,ease:Linear.easeNone},start+.45),tl.fromTo($red,.4,{x:0},{x:30,ease:Linear.easeNone},start+.45),tl.to($green,.4,{x:30,ease:Linear.easeNone},start+.9),tl.to($purple,.4,{x:0,ease:Linear.easeNone},start+.9),tl.to($blue,.4,{x:-30,ease:Linear.easeNone},start+.9),tl.to($red,.4,{x:0,ease:Linear.easeNone},start+.9),tl.to($green,.4,{x:0,ease:Linear.easeNone},start+1.35),tl.to($blue,.4,{x:0,ease:Linear.easeNone},start+1.35);